{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://omnimem.dev/schemas/daemon-state.schema.json",
  "title": "OmniMem Daemon State API Response",
  "type": "object",
  "required": [
    "ok",
    "schema_version",
    "initialized",
    "enabled",
    "manually_disabled",
    "running",
    "last_result",
    "scan_interval",
    "pull_interval",
    "retry_max_attempts",
    "retry_initial_backoff",
    "retry_max_backoff",
    "cycles",
    "success_count",
    "failure_count",
    "last_run_at",
    "last_success_at",
    "last_failure_at",
    "last_error_kind",
    "last_error",
    "remediation_hint"
  ],
  "properties": {
    "ok": { "type": "boolean" },
    "schema_version": { "type": "string" },
    "initialized": { "type": "boolean" },
    "enabled": { "type": "boolean" },
    "manually_disabled": { "type": "boolean" },
    "running": { "type": "boolean" },
    "last_result": { "type": "object" },
    "scan_interval": { "type": "integer", "minimum": 1 },
    "pull_interval": { "type": "integer", "minimum": 1 },
    "retry_max_attempts": { "type": "integer", "minimum": 1 },
    "retry_initial_backoff": { "type": "integer", "minimum": 1 },
    "retry_max_backoff": { "type": "integer", "minimum": 1 },
    "cycles": { "type": "integer", "minimum": 0 },
    "success_count": { "type": "integer", "minimum": 0 },
    "failure_count": { "type": "integer", "minimum": 0 },
    "last_run_at": { "type": "string" },
    "last_success_at": { "type": "string" },
    "last_failure_at": { "type": "string" },
    "last_error_kind": { "type": "string", "enum": ["none", "auth", "network", "conflict", "unknown"] },
    "last_error": { "type": "string" },
    "remediation_hint": { "type": "string" }
  },
  "additionalProperties": true
}
